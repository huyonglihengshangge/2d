<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>雨落</title>
	<style>
	html,body{
		width: 100%;height: 100%;
		overflow: hidden;
		background: #000;
		padding: 0;margin: 0;
	}
	</style>
	<script>
	window.onload=function(){
		// 刮风
		setInterval(function(){             
                var num=Math.sin(Math.random()*360)*30;
                var xishu=num/180*Math.PI;
                var body=document.querySelector("body");
                body.style.transition="transform 3s linear";
                body.style.transform="rotate("+xishu+"rad)";
            },1000)


		var clientW=document.documentElement.clientWidth;
        var clientH=document.documentElement.clientHeight;
        var arr=[];
        for (var i = 0; i < 100; i++) {
        	var div=document.createElement("div");
        	// var c=Math.ceil(255*Math.random());
        	// console.log(c)
        	div.style.cssText="width:2px;height:20px;background:rgb(255,255,255);position: absolute;top:-50px;left:"+(50+(clientW-100)*Math.random())+"px";
        	div.style.transition="transform 2s linear "+3*Math.random()+"s";
        	document.body.appendChild(div);
        	arr.push(div);	
        }

        setTimeout(function(){
        	for (var i = 0; i < arr.length; i++) {
        		arr[i].style.transform="translate(0,"+(clientH)+"px)";
        		arr[i].addEventListener("webkitTransitionEnd",function(){
        			this.style.transition="none";
        			this.style.transform="translate(0,0)";

        			var that=this;
        			setTimeout(function(){
        				that.style.transition="transform 3s linear "+3*Math.random()+"s";
        				that.style.transform="translate(0,"+(clientH)+"px)"
        			},0)
        		})
        	}
        })

	}
	</script>
</head>
<body>
	
</body>
</html>